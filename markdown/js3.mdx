# (ì‘ì„±ì¤‘)

## 12. Iterators and Generators

ì´í„°ëŸ¬ë¸”í•œ ê°ì²´ëŠ” ê·¸ ìš”ì†Œë“¤ì„ ìˆœíšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ê¸°ëŠ¥ë“¤ì—ì„œ ì´ë¯¸ ì¡°ìš©íˆ
í™œìš©ë˜ê³  ìˆì—ˆì–´ìš”.

- for/of loop
- spread operator
- destructuring assignment
- Set/Map ë“±ì˜ ìƒì„±ìì˜ ì¸ì

### 1. How Iterators Work

ë§ë³´ë‹¨ ì½”ë“œê°€ ì´í•´í•˜ê¸° ì‰¬ì›Œìš”:

```js
let iterable = [1, 2, 3, 4];
let iterator = iterable[Symbol.iterator]();

// ì§ì ‘ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê³ ,,,
let iterationResult = iterator.next();
console.log(iterationResult);

// ì–¸ì–´ ì°¨ì›ì—ì„œ ì•”ë¬µì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
console.log(...iterator);
ã…‹ã…Œã…‹ã…Œ;

// ìˆœíšŒê°€ ëë‚¬ê¸°ì— `done: true` ì—ìš”
console.log(iterator.next());
```

- **ì´í„°ëŸ¬ë¸”** ê°ì²´ëŠ” `iterator` ë©”ì„œë“œê°€ ìˆì–´ **ì´í„°ë ˆì´í„°** ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- ì´í„°ë ˆì´í„°ëŠ” `next` ë©”ì„œë“œë¡œ **ì´í„°ë ˆì´ì…˜ ê²°ê³¼**(iteration result) ê°ì²´ë¥¼
  ë°˜í™˜í•©ë‹ˆë‹¤.
- **ì´í„°ë ˆì´ì…˜ ê²°ê³¼** ê°ì²´ëŠ” `value`ì™€ `done` í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ëŠ” ê°œì²´ì…ë‹ˆë‹¤.

ìœ„ ì½”ë“œì—ì„œ spread operatorëŠ” ì´í„°ëŸ¬ë¸”ì„ í•„ìš”ë¡œí•˜ì§€ë§Œ iterator ë³€ìˆ˜ê°€
ì´í„°ë ˆì´í„°ë©´ì„œ ì´í„°ëŸ¬ë¸”ì´ê¸°ì— spread operatorì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë ‡ë“¯
ì´í„°ë ˆì´í„°ì¸ ë™ì‹œì— ì´í„°ëŸ¬ë¸”ì¸ ê°ì²´ëŠ” ì‚¬ìš©ì´ í¸ë¦¬í•œë°, ì´ë¥¼
**IterableIterator**ë¼ê³ ë„ í•©ë‹ˆë‹¤.

### 2. Implementing Iterable Objects

```js
class Range {
  constructor(from, to) {
    this.from = from;
    this.to = to;
  }

  [Symbol.iterator]() {
    let next = this.from;
    let last = this.to;

    return {
      next: () => (next <= last ? { value: next++ } : { done: true }),

      // ì´í„°ë ˆì´í„°ë¥¼ ì´í„°ëŸ¬ë¸”í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.
      // âœï¸ ì•„ë˜ ë©”ì„œë“œë¥¼ ì§€ì›Œë³´ì„¸ìš”.
      [Symbol.iterator]() {
        return this;
      },
    };
  }
}

for (let x of new Range(1, 5)) console.log(x);

let iterable = new Range(6, 10);
let iterator = iterable[Symbol.iterator]();
console.log(iterator.next());
console.log(...iterator);
```

ì´í„°ë ˆì´ì…˜ì„ ë§ˆì¹˜ë©´ íŒŒì¼ì„ ë‹«ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ëŠëŠ” ë“± ì •ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°ê°€
ìˆìŠµë‹ˆë‹¤. `done`ì—ë§Œ ì˜ì¡´í•˜ë©´ ëê¹Œì§€ ìˆœíšŒí•˜ê¸° ì „ì— `break`ë¬¸ ë“±ìœ¼ë¡œ ëë‚˜ëŠ”
ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ë‹ˆ `return()` ë©”ì„œë“œë¥¼ í™œìš©í•©ë‹ˆë‹¤.

```js
class MyIterable {
  [Symbol.iterator]() {
    let val = 1;

    return {
      next() {
        if (5 < val) {
          console.log('done');
          return { done: true };
        } else {
          return { value: val++ };
        }
      },

      return() {
        console.log('return');
        return { done: true };
      },
    };
  }
}

// ìˆœíšŒê°€ ì •ìƒì ìœ¼ë¡œ ëë‚˜ë©´ doneì´ í”„ë¦°íŠ¸ë¼ìš”
[...new MyIterable()];

// ìˆœíšŒê°€ ì¤‘ê°„ì— ëŠê¸°ë©´ returnì´ í”„ë¦°íŠ¸ë¼ìš”
let [a, b] = new MyIterable();

// âœï¸ breakë¥¼ ì§€ì›Œë³´ì„¸ìš”
for (let x of new MyIterable()) {
  break;
}
```

### 3. Generators

ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„°ì˜ ì¼ì¢…ì¸ **ì œë„ˆë ˆì´í„° ê°ì²´**ê°€ ë°˜í™˜ë©ë‹ˆë‹¤:

```js
function* foo() {
  yield 1;
  yield 2;
  yield 3;
}

console.log(...foo());
```

ì œë„ˆë ˆì´í„°ë¥¼ í™œìš©í•˜ë©´ ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“¤ê¸° ê°„ë‹¨í•´ì§‘ë‹ˆë‹¤:

```js
function* range(from, to) {
  for (let x = from; x <= to; x++) yield x;
}

console.log(...range(0, 5));
```

ì œë„ˆë ˆì´í„°ëŠ” ìˆœíšŒí•˜ë ¤ëŠ” ê°’ì´ ìë£Œêµ¬ì¡°ê°€ ì•„ë‹ˆë¼ ê³„ì‚°ì˜ ê²°ê³¼ì¼ ë•Œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.

```js
function* fibo() {
  let x = 0;
  let y = 1;

  while (true) {
    yield y;
    [x, y] = [y, x + y];
  }
}

function* take(n, iterable) {
  let iterator = iterable[Symbol.iterator]();

  for (let i = 0; i < n; i++) {
    let { value, done } = iterator.next();
    if (done) return;
    yield value;
  }
}

console.log(...take(10, fibo()));
```

`yield*` í‚¤ì›Œë“œë¡œ ë‹¤ë¥¸ ì´í„°ëŸ¬ë¸”ì˜ yield ê²°ê³¼ë¥¼ ëŒ€ì‹  yieldí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
function* foo() {
  yield* [1, 2];
}

function* bar() {
  yield* foo();
  yield 3;
}

console.log(...bar());
```

### 4. Advanced Generator Features

ì œë„ˆë ˆì´í„°ëŠ” í•¨ìˆ˜ë¥¼ ì¤‘ê°„ì— ë©ˆì¶”ê³  ì´í›„ ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ì¼ë°˜
ì´í„°ë ˆì´í„°ë³´ë‹¤ ê°•ë ¥í•©ë‹ˆë‹¤.

ì¼ë°˜ì ì¸ ì´í„°ë ˆì´í„°ì™€ ì œë„ˆë ˆì´í„°ì—ì„œëŠ” `value`ê°€ ìœ ì˜ë¯¸í•œ ê°’ì´ë¼ë©´ `done`ì´
`true`ê°€ ì•„ë‹ˆì§€ë§Œ ì œë„ˆë ˆì´í„°ì˜ `return`ë¬¸ì„ ì‚¬ìš©í•œ ê²½ìš° `true`ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```js
function* foo() {
  yield 1;
  // âœï¸ return -> yieldë¡œ ìˆ˜ì •í•´ë³´ì„¸ìš”
  return 2;
}

let gen = foo();
console.log(gen.next());
console.log(gen.next());
```

yieldëŠ” ì‚¬ì‹¤ í‘œí˜„ì‹ì´ë©° ì™¸ë¶€ì—ì„œ ê±´ë„¤ì¤€ ê°’ìœ¼ë¡œ í‰ê°€ë©ë‹ˆë‹¤:

```js
function* foo() {
  console.log(yield 1);
  console.log(yield 2);
}

let gen = foo();
console.log(gen.next('a')); // 'a'ëŠ” ë¬´ì‹œë©ë‹ˆë‹¤.
console.log(gen.next('b'));
console.log(gen.next('c'));
```

ì™¸ë¶€ì—ì„œ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ë‚´ë¶€ì— `return`ê³¼ `throw`ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´í„°ë ˆì´í„°ì™€ ë‹¬ë¦¬ ì œë„ˆë ˆì´í„°ì—ì„œëŠ” `return()` ë©”ì„œë“œë¥¼ ì§ì ‘ ì •ì˜í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ
try/finalllyë¥¼ í™œìš©í•´ cleanupì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
function* foo() {
  try {
    yield 1;
  } catch (e) {
    console.log('handling error...');
  } finally {
    console.log('cleaning...');
    return 'finish';
  }
}

console.log('ğŸ”½ return ì˜ˆì œ');
let it = foo();
console.log(it.next());
console.log(it.return());

console.log('ğŸ”½ throw ì˜ˆì œ');
it = foo();
console.log(it.next());
console.log(it.throw(new Error('error')));
```

## 13. Asynchronous Javascript

Asynchronous iterators and the for/await loop were introduced in ES2018 and
allow you to work with streams of asynchronous events using simple loops that
appear synchronous.

JSëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•˜ì§€ë§Œ, ì–¸ì–´ ì½”ì–´ì—ëŠ”
ë¹„ë™ê¸°ì¸ ê¸°ëŠ¥ì´ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ client/server-side JSë¥¼ ì¡°ê¸ˆ ì•Œì•„ì•¼í•©ë‹ˆë‹¤.

### 1. Asynchronous Programming with Callbacks

í´ë¼ì´ì–¸ë“œ ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê±°ì˜ í•­ìƒ event-drivenì…ë‹ˆë‹¤. ë¯¸ë¦¬ ì•Œë ¤ì§„
ê³„ì‚°ì„ í•˜ì§€ ì•Šê³  ìœ ì €ì˜ í–‰ë™ì— ë”°ë¼ ë°˜ì‘í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë¸Œë¼ìš°ì €ëŠ” ìœ ì €ì˜
í–‰ë™ì— ë”°ë¼ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê³  JS í”„ë¡œê·¸ë¨ì€ ì´ë²¤íŠ¸ë§ˆë‹¤ ì½œë°±ì„ ë“±ë¡í•´ë†“ìŠµë‹ˆë‹¤.
ì´ë•Œ ì½œë°±ì„ **event handler** í˜¹ì€ **event listener**ë¼ê³  í•©ë‹ˆë‹¤.

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ë“±ë¡ì€ `addEventHandler` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, íƒ€ê²Ÿ ê°ì²´ì˜ onload,
onerrorì™€ ê°™ì€ í”„ë¡œí¼í‹°ì— ì½œë°±ì„ í• ë‹¹í•˜ëŠ” ë‘ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ë³´í†µ ì—¬ëŸ¬ ì½œë°±ì„
ë“±ë¡í•  ìˆ˜ ìˆëŠ” ì „ìë¥¼ ë§ì´ ì‚¬ìš©í•œë‹¤ê³  í•˜ë„¤ìš”:

https://stackoverflow.com/a/6348533

ì˜›ë‚  ì˜›ì  API ì´ìƒí•œ XMLHttpRequest ì“¸ ì‹œì ˆ ì½œë°±ì„ í†µí•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì˜ˆì œ:

```js
// @noexec
let getVersion = (callback) => {
  let request = new XMLHttpRequest();
  request.open('GET', 'https://example.com/api/version');
  request.send();

  request.onload = function () {
    if (request.status === 200) callback(null, request.responseText);
    else callback(response.statusText, null);
  };

  request.onerror = request.ontimeout = (e) => callback(e.type, null);
};
```

### 2. Promises

í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ê²°ê³¼ë¥¼ í‘œí˜„í•˜ëŠ” ê°ì²´ë¡œ ê²°ê³¼ê°€ ì¤€ë¹„ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ëŠ”
ì½œë°±ì„ í†µí•´ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ì½œë°±ì€ nestedë˜ì—ˆì§€ë§Œ í”„ë¡œë¯¸ìŠ¤ ì²´ì¸ì€ ë¦¬ë‹ˆì–´í•´ì„œ ë³´ë‹¤ ë³´ê¸° ì¢‹ê²Œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.

ì½œë°±ì€ ì—ëŸ¬ ì²˜ë¦¬ê°€ ì–´ë µìŠµë‹ˆë‹¤. ë¹„ë™ê¸° ì½”ë“œì—ì„œ ì—ëŸ¬ê°€ ë˜ì ¸ì ¸ë„ í˜¸ì¶œìë¡œ ì—ëŸ¬ê°€
ì „íŒŒë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í”„ë¡œë¯¸ìŠ¤ëŠ” ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•ì„ í‘œì¤€í™”í•´ ì œê³µí•©ë‹ˆë‹¤.

https://stackoverflow.com/questions/3677783/is-it-possible-to-catch-exceptions-thrown-in-a-javascript-async-callback

í”„ë¡œë¯¸ìŠ¤ëŠ” **í•˜ë‚˜ì˜** ë¹„ë™ê¸° ì‘ì—…ì„ í‘œí˜„í•©ë‹ˆë‹¤. ë”°ë¼ì„œ `setInterval`ì´ë‚˜ `click`
ì´ë²¤íŠ¸ëŠ” í”„ë¡œë¯¸ìŠ¤ë¡œ ë‹¤ë£° ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

#### 1. Using Promises

```js
// @noexec
getJSON('/api/user/profile').then(displayUserProfile);
```

`then()`ì— ì „ë‹¬ëœ ì½œë°±ë“¤ì€ í•œ ë²ˆì”©ë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤. thenì„ ë¶€ë¥´ê¸° ì „ì— ë¹„ë™ê¸°
ì‘ì—…ì´ ëë‚˜ë”ë¼ë„ ì½œë°±ì€ ì‹¤í–‰ë©ë‹ˆë‹¤.

ë™ê¸° ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œ ì—ëŸ¬ê°€ ë˜ì ¸ì§€ë©´ catchë¬¸ì´ ìˆì„ ë•Œê¹Œì§€ ì½œ ìŠ¤íƒì„ ê±°ìŠ¬ëŸ¬
ì˜¬ë¼ê°‘ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¹„ë™ê¸° ì½”ë“œê°€ ì‹¤í–‰ë  ë•ŒëŠ” í˜¸ì¶œìê°€ ìŠ¤íƒì— ì—†ìœ¼ë¯€ë¡œ í˜¸ì¶œìë¡œ
ì—ëŸ¬ë¥¼ ê±´ë„¤ì¤„ ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤.

```js
// @noexec

// getJSONê³¼displayUserProfileì˜ ì—ëŸ¬ê°€ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// ì´ ë°©ì‹ì€ ì˜ ì“°ì´ì§€ ì•Šì•„ìš”
getJSON('/api/user/profile').then(displayUserProfile, handleProfileError);

// getJSONê³¼ displayUserProfileì˜ ì—ëŸ¬ê°€ handleProfileErrorì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
getJSON('/api/user/profile').then(displayUserProfile).catch(handleProfileError);

// ê°™ì•„ìš”
getJSON('/api/user/profile')
  .then(displayUserProfile)
  .then(null, handleProfileError);
```

í”„ë¡œë¯¸ìŠ¤ ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œëŠ” ëŒ€ì‹  `catch()`ë¡œ ì—ëŸ¬ë¥¼ ê±´ë„¤ì¤ë‹ˆë‹¤.

í”„ë¡œë¯¸ìŠ¤ëŠ” ì•½ì†

- ì•½ì†ì´ ì§€ì¼œì§ -> fulfilled
- ì•½ì†ì„ ì–´ê¹€ -> rejected

- ì•„ì§ ì–´ì°Œ ëëŠ”ì§€ ëª¨ë¦„ -> pending
- ì§€ì¼œì¡Œë“  ì–´ê²¨ì¡Œë“  ë­ë“  ë¨ -> settled

> Remember how we defined Promises at the start of this section: â€œa Promise is
> an object that represents the result of an asynchronous operation.â€ It is
> important to remember that Promises are not just abstract ways registering
> callbacks to run when some async code finishesâ€”they represent the results of
> that async code.

> The reason that I want to be precise about Promise terminology is that
> Promises can also be resolved. **It is easy to confuse this resolved state
> with the fulfilled state or with settled state, but it is not precisely the
> same as either**

??????

#### 2. Chaining Promises

```js
// @noexec
fetch(url)
  .then((response) => response.json())
  .then(render)
  .then(cacheInDatabase)
  .catch(handleError);
```

ë³´í†µ ì´ëŸ° method chainingì„ êµ¬í˜„í•  ë•ŒëŠ” ëª¨ë“  ë©”ì„œë“œê°€ ê°™ì€ ê°ì²´ë¥¼ ë¦¬í„´í•˜ì§€ë§Œ
í”„ë¡œë¯¸ìŠ¤ì—ì„œëŠ” ëª¨ë‘ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ì¦‰ í•˜ë‚˜ì˜ í”„ë¡œë¯¸ìŠ¤ì— ì—¬ëŸ¬ ì½œë°±ì„ ë“±ë¡í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.

ì´ì „ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ê°€ fulfilledë˜ë©´ ì½œë°±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/then

#### 3. Resolving Promises

í”„ë¡œë¯¸ìŠ¤ pì˜ thenì— ì „ë‹¬í•œ ì½œë°± cê°€ í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œ ê°’ vë¥¼ ë°˜í™˜í•˜ë©´ pëŠ” vë¡œ
**resolve**ë˜ê³  ì¦‰ì‹œ **fulfilled**ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ vê°€ í”„ë¡œë¯¸ìŠ¤ë©´ pëŠ” **resolve**ëì§€ë§Œ **fulfilled**ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. pëŠ”
vê°€ settledë˜ê¸° ì „ê¹Œì§€ëŠ” settledë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

pê°€ resolveëœ ì´í›„ì—” ì½œë°± cëŠ” no longer has any control over p. p is â€œresolvedâ€
in the sense that its fate now depends entirely on what happens to Promise v.

```js
// @noexec
function c1(response) {
  let p4 = response.json();
  return p4;
}
function c2(profile) {
  displayUserProfile(profile);
}
let p1 = fetch(url);
let p2 = p1.then(c1);
let p3 = p2.then(c2);
```

1. fetchì—ì„œ HTTP ìš”ì²­ì„ ì‹œì‘í•˜ê³  p1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
1. p1ì— c1ì„ ë“±ë¡í•˜ê³  p2ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
1. p2ì— c2ë¥¼ ë“±ë¡í•˜ê³  p3ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
1. (ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ë„ì°©)
1. p1ì´ fulfilledë˜ê³  c1ì´ í˜¸ì¶œë©ë‹ˆë‹¤.
1. c1ì´ p4ë¥¼ ë°˜í™˜í•˜ê³  p2ëŠ” **resolve**ë©ë‹ˆë‹¤.
1. (body ì²˜ë¦¬ ì™„ë£Œ)
1. p2ì™€ p4ê°€ **fulfill**ë©ë‹ˆë‹¤.
1. c2ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

#### 4. More on Promise and Errors

ë™ê¸° ì½”ë“œì™€ ë‹¤ë¥´ê²Œ ë¹„ë™ê¸° ì½”ë“œì˜ ì—ëŸ¬ëŠ” ì˜ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì¡°ìš©íˆ ë„˜ì–´ê°ˆ ìˆ˜ë„
ìˆìœ¼ë¯€ë¡œ ì•„ì£¼ ì¤‘ìš”í•˜ê³  ì‹ ê²½ì¨ì•¼í•©ë‹ˆë‹¤.

ë™ê¸° ì½”ë“œì—ì„œ ì—ëŸ¬ ë°œìƒ ì‹œ ì½œ ìŠ¤íƒì„ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ëŠ” ê²ƒì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ì—ì„œëŠ”
`.catch()`ë¥¼ ì°¾ì„ ë•Œê¹Œì§€ ì²´ì¸ì„ ë”°ë¼ ë‚´ë ¤ê°‘ë‹ˆë‹¤.

`.finally()` ë©”ì„œë“œë„ ìˆì–´ìš”. í”„ë¡œë¯¸ìŠ¤ê°€ settleë˜ë©´ ì½œë°±ì´ í˜¸ì¶œë©ë‹ˆë‹¤. ë³´í†µ
ì½œë°±ì˜ ë°˜í™˜ê°’ì€ ë¬´ì‹œë˜ì§€ë§Œ ì—ëŸ¬ë¥¼ ë˜ì§€ë©´ rejectë©ë‹ˆë‹¤. ë©”ì„œë“œê°€ í˜¸ì¶œëœ
í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœë¥¼ ë”°ë¼ê°‘ë‹ˆë‹¤.

When a callback passed to .then() (or .catch()) throws a value, the Promise that
was the return value of the .then() call is rejected with that thrown value.

so idiomatic to end Promise chains with a .catch() call. it is also perfectly
valid to use .catch() elsewhere in a Promise chain.

https://stackoverflow.com/questions/42013104/placement-of-catch-before-and-after-then

#### 5. Promise in Parallel

ì²´ì¸ì„ ë”°ë¼ ìˆœì°¨ì ìœ¼ë¡œê°€ ì•„ë‹Œ ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ë³‘ë ¬ë¡œ ì‹¤í–‰í•´ë´…ì‹œë‹¤.

`Promise.all`ì€ í•˜ë‚˜ë¼ë„ ë¦¬ì ë˜ë©´ ë¦¬ì ë©ë‹ˆë‹¤. ë°°ì—´ì— í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œê²Œ
ì„ì—¬ìˆì–´ë„ ë©ë‹ˆë‹¤.

`Promise.allSettled`ëŠ” ë¦¬ì ë¼ë„ ê´œì°®ìŠµë‹ˆë‹¤.

`Promise.race`ëŠ” ê°€ì¥ ë¨¼ì € fulfillë˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•´ìš”.

#### 6. Making Promises

ë‚˜ë§Œì˜ í”„ë¡œë¯¸ìŠ¤ ê¸°ë°˜ APIë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤.

#### 7. Promises in Sequence

### 3. async and await

### 4. Asynchronous Iteration

### 5. Summary

https://medium.com/swlh/implement-a-simple-promise-in-javascript-20c9705f197a

## 14. Metaprogramming
