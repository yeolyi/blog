# ESLintë¡œ ë°°ìš°ëŠ” JS

## ì„œë¡ 

ì¸í„´ ì‹œì ˆì— `className`ê°’ì„ ë§Œë“¤ ë•Œ + ì—°ì‚°ìì™€ template literalë¥¼ ë²ˆê°ˆì•„ê°€ë©´ì„œ
ì‚¬ìš©í–ˆëŠ”ë° í†µì¼ì„±ìˆê²Œ ì“°ëŠ”ê±´ ì–´ë–»ê² ëƒëŠ” ë¦¬ë·°ë¥¼ ë°›ì€ ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë•ŒëŠ”
ì˜ì‹ì ìœ¼ë¡œ í…œí”Œë¦¿ ë¦¬í„°ëŸ´ë¡œ í†µì¼ì„ ì‹œì¼°ëŠ”ë° ë‚˜ì¤‘ì— ë³´ë‹ˆ ESLintì—
[prefer-template](https://eslint.org/docs/latest/rules/prefer-template)ì´ë¼ëŠ”
ê·œì¹™ì´ ìˆë”ë¼ê³ ìš”. ê·¸ë•Œ ì•Œì•˜ìœ¼ë©´ ì¢€ ë” ì¸ìƒê¹Šì€ ì¸í„´ì´ ë˜ì§€ ì•Šì•˜ì„ê¹Œë¼ëŠ” ìƒê°ì´
ë“¤ì—ˆìŠµë‹ˆë‹¤ ğŸ˜›

ë„êµ¬ë„ ì•„ëŠ”ë§Œí¼ ì¨ë¨¹ëŠ”ê²ƒì´ë‹ˆ ì´ì°¸ì— ESLintì— ì–´ë–¤ ê·œì¹™ë“¤ì´ ìˆëŠ”ì§€
ì •ë…í•´ë³´ì•˜ìŠµë‹ˆë‹¤. JSì—ì„œ ì‹¤ìˆ˜í•˜ê¸° ì‰¬ìš´ ë¶€ë¶„ì„ ì¡ì•„ë‚´ê¸° ìœ„í•œ ê·œì¹™ë“¤ì´ ë§ë”ë¼ê³ ìš”.
ë¬¸ì„œë¥¼ ë³´ë©´ì„œ JSì— ëŒ€í•´ ëª°ëë˜ ì‚¬ì‹¤ë“¤ì„ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

## ë³¸ë¡ 

[no-prototype-builtins](https://eslint.org/docs/latest/rules/no-prototype-builtins)

ëª¨ë“  ê°ì²´ëŠ” `Object.prototype`ìœ¼ë¡œë¶€í„° ìƒì†ë°›ì€ ë©”ì„œë“œë“¤ì„ ê°€ì§‘ë‹ˆë‹¤.

```js
let obj = {};
console.log(obj.toString === Object.prototype.toString);
```

í•˜ì§€ë§Œ ì´ë“¤ì„ ê°ì²´ë¥¼ í†µí•´ ë°”ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì˜¤ë²„ë¼ì´ë”©ì˜ ê°€ëŠ¥ì„±ì´ ìˆì–´ ì¢‹ì§€
ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•…ì˜ì ì¸ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ `{ "hasOwnProperty": 1 }`ê°™ì€
JSONì„ ë³´ë‚´ ê³µê²©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
let a = {
  hasOwnProperty() {
    return true;
  },

  // âœï¸ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•´ë³´ì„¸ìš”.
  // hasOwnProperty: 1,
};

console.log(a.hasOwnProperty('x'));
console.log(Object.prototype.hasOwnProperty.call(a, 'x'));
// í˜¹ì€
console.log(Object.hasOwn(a, 'x'));
```

[no-new-wrappers](https://eslint.org/docs/latest/rules/no-new-wrappers)

ì›ì‹œê°’ì˜ ë˜í¼ ê°ì²´ë¥¼ `new`ì™€ í•¨ê»˜ í˜¸ì¶œí•  ì´ìœ ëŠ” ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.

```js
let booleanObj = new Boolean(false);
console.log(typeof booleanObj);
if (booleanObj) console.log('truthy');
```

[no-array-constructor](https://eslint.org/docs/latest/rules/no-array-constructor)

ë°°ì—´ ìƒì„±ìë¡œ ë°°ì—´ì„ ë§Œë“œëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì¸ìê°€ í•˜ë‚˜ì¼ ë•Œì˜
ë™ì‘ì´ ì¼ê´€ì ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.

```js
console.log([3], Array(3));
console.log(['3'], Array('3'));
console.log([1.2]);
console.log(Array(1.2));
```

[no-self-compare](https://eslint.org/docs/latest/rules/no-self-compare)

ì•„ë˜ëŠ” NaNì„ íŒë³„í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì…ë‹ˆë‹¤.

```js
let f = (x) => x !== x;
let g = (x) => typeof x === 'number' && isNaN(x);
let h = (x) => Number.isNaN(x);

console.log(f(NaN), g(NaN), h(NaN));
```

[require-atomic-updates](https://eslint.org/docs/latest/rules/require-atomic-updates)

ë¹„ë™ê¸° ì½”ë“œë¥¼ ì§¤ ë•Œ (JSì—ì„œë„!!) race conditionì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
let total = 0;
let identity = async (x) => x;
let addVal = async (x) => {
  total += await identity(x);
};

Promise.all([addVal(1), addVal(2), addVal(3)]).then(() => {
  log(total);
});
```

ì•„ë˜ ì½”ë“œì—ì„œë„ await ì „í›„ë¡œ `obj.done`ì˜ ê°’ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
async function foo(obj) {
  if (!obj.done) {
    obj.something = await getSomething();
  }
}
```

[object-shorthand](https://eslint.org/docs/latest/rules/object-shorthand)

í´ë˜ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¥¼ ë§Œë“œëŠ” ì•„ë˜ ë‘ ë°©ë²•ì—ëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

```js
class A {
  foo() {}
  bar = function () {};
}

let a = new A();
console.log(Object.hasOwn(a, 'foo'));
console.log(Object.hasOwn(a, 'bar'));
```

[no-compare-neg-zero](https://eslint.org/docs/latest/rules/no-compare-neg-zero)

-0ì„ ì •í™•íˆ ë‹¤ë¤„ì•¼í•œë‹¤ë©´ `Object.is`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
console.log(0 === -0);
console.log(Object.is(0, -0));
```

[no-misleading-character-class](https://eslint.org/docs/latest/rules/no-misleading-character-class)

ëª‡ëª‡ ìœ ë‹ˆì½”ë“œ ë¬¸ìëŠ” ì—¬ëŸ¬ ê°œì˜ **code point**ë¡œ êµ¬ì„±ë˜ë©° ì •ê·œí‘œí˜„ì‹ì´ ë³´ì´ëŠ”
ê²ƒê³¼ ë‹¤ë¥´ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// â‡ï¸ì€ â‡ (U+2747)ê³¼ VARIATION SELECTOR-16 (U+FE0F)ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
console.log('â‡ï¸' === '\u{2747}\u{FE0F}');

// ë”°ë¼ì„œ ì•„ë˜ ì •ê·œí‘œí˜„ì‹ì€ â‡ 'ë˜ëŠ”' VARIATION SELECTOR-16ì— ë§¤ì¹­ë©ë‹ˆë‹¤.
let regex = /^[â‡ï¸]$/u;

console.log(regex.test('\u{2747}'));
console.log(regex.test('\u{FE0F}'));

console.log(regex.test('â‡ï¸'));
```

[no-invalid-this](https://eslint.org/docs/latest/rules/no-invalid-this)

- Top-level this in scripts is always considered valid because it refers to the
  global object regardless of the strict mode.
- Top-level this in ECMAScript modules is always considered invalid because its
  value is undefined.
- For this inside functions, this rule basically checks whether or not the
  function containing this keyword is a constructor or a method. Note that arrow
  functions have lexical this, and that therefore this rule checks their
  enclosing contexts.

[no-param-reassign](https://eslint.org/docs/latest/rules/no-param-reassign)

Strict modeê°€ ì•„ë‹ ë–„ëŠ” `argument` ê°ì²´ì™€ í•¨ìˆ˜ ì¸ìê°€ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```js
// âœï¸ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•´ë³´ì„¸ìš”.
// 'use strict';

function foo(a, b) {
  console.log(arguments);
  a = 'changed';
  console.log(arguments);
}

foo(1, 2);
```

[no-undef-init](https://eslint.org/docs/latest/rules/no-undef-init)

```js
// âœï¸ var xë¡œ ìˆ˜ì •í•˜ê³  ê²°ê³¼ê°€ ì–´ë–¨ì§€ ì˜ˆìƒí•´ë³´ì„¸ìš”.
for (i = 0; i < 4; i++) {
  var x = undefined;
  console.log(x);
  x = i;
}
```

[no-constant-binary-expression](https://eslint.org/docs/latest/rules/no-constant-binary-expression)

ì•„ë˜ì—ì„œ ì—°ì‚°ì ìš°ì„ ìˆœìœ„ëŠ” `1 + (null ?? 2)`ê°€ ì•„ë‹Œ `(1+ null) ?? 2`ì…ë‹ˆë‹¤.

```js
console.log(1 + null ?? 2);
```

[no-async-promise-executor](https://eslint.org/docs/latest/rules/no-async-promise-executor)

Promise ìƒì„±ìì— ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ë¥¼ **executor í•¨ìˆ˜**ë¼ í•©ë‹ˆë‹¤. executor í•¨ìˆ˜ê°€
ë¹„ë™ê¸° í•¨ìˆ˜ë©´ ì‹¤ìˆ˜ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ìš°ì„  í•¨ìˆ˜ ë‚´ë¶€ì˜ ì—ëŸ¬ê°€ ìœ ì‹¤ë©ë‹ˆë‹¤.

```js
// âœï¸ asyncë¥¼ ì§€ì›Œë³´ì„¸ìš”.
new Promise(async (res, rej) => {
  throw new Error('some error');
}).catch(() => console.log('caught'));
```

ë˜í•œ ì• ì´ˆì— async-await ë¬¸ë²•ì„ ì‚¬ìš©í–ˆë‹¤ë©´ Promise ìƒì„±ìë¥¼ ì‚¬ìš©í•  ì´ìœ ê°€
ì—†ìŠµë‹ˆë‹¤.

## ì—¬ë‹´

### sort-import

ESLintì˜ **sort-import** ê·œì¹™ì„ auto fixë¥¼ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
[ê´€ë ¨ ì´ìŠˆ](https://github.com/eslint/eslint/issues/11542)ë¥¼ ë³´ë©´ ë‹¤ìŒ ì´ìœ 
ë•Œë¬¸ì´ë¼ê³  í•˜ë„¤ìš”.

> However, I don't think it would be safe for sort-imports to autofix code
> because it could change the evaluation order of the imported modules, which
> could unexpectedly affect how the code works.

ë”°ë¼ì„œ auto-fixë¥¼ ì›í•œë‹¤ë©´ **eslint-plugin-import**ë‚˜
**eslint-plugin-simple-import-sort**ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° ì „ìëŠ” ì„¤ì •ì´ ë³µì¡í•˜ê³ 
ESLint flat configë¥¼ ì§€ì› ì•ˆí•´ ì „ í›„ìë¥¼ ì‚¬ìš©í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤.

### ê¸°íƒ€ ì‹ ê¸°í–ˆë˜ ê·œì¹™ë“¤

- í•¨ìˆ˜ ì¢…ë¥˜ë¥¼ ê°•ì œí•˜ëŠ”
  [func-style](https://eslint.org/docs/latest/rules/func-style)
- ì•”ì‹œì  í˜•ë³€í™˜ì„ ë§‰ëŠ”
  [no-implicit-coercion](https://eslint.org/docs/latest/rules/no-implicit-coercion)

### ê·œì¹™ ì§ì ‘ ë§Œë“¤ê¸°

- [kakaotech - ESLint ì¡°ê¸ˆ ë” ì˜ í™œìš©í•˜ê¸°](https://tech.kakao.com/posts/375)
- [ë‚˜ë§Œì˜ eslint ë£° ë§Œë“¤ì–´ë³´ê¸° ](https://yceffort.kr/2022/06/how-to-write-my-own-eslint-rules)

{/* https://johnresig.com/blog/objectgetprototypeof/ */}
{/* [no-useless-backreference](https://eslint.org/docs/latest/rules/no-useless-backreference)ëŠ” í¥ë¯¸ë¡œì›Œë³´ì´ëŠ”ë° ì •ê·œí‘œí˜„ì‹ì„ ì˜ ëª°ë¼ì„œ(ë³´ê¸° ì‹«ì–´ì„œ ã…,,,) ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤. */}
