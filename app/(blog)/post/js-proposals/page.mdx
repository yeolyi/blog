export let metadata = {
  title: 'ë¯¸ë˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¯¸ë¦¬ ì¨ë³´ê¸°',
  description:
    'ì–´ë–¤ ê¸°ëŠ¥ë“¤ì´ ë…¼ì˜ë˜ê³ ìˆëŠ”ì§€ ì‚´í´ë³´ê³  ë¸”ë¡œê·¸ì— ì¤€ë¹„ëœ babelë¡œ ì§ì ‘ ì‚¬ìš©í•´ë´…ì‹œë‹¤',
};

# ë¯¸ë˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¯¸ë¦¬ ì¨ë³´ê¸°

## ë¯¸ë¦¬ë³´ê¸°

ì•„ë˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©° pipeline operatorë¥¼ ì¨ë³´ì„¸ìš”:

```js
// @babel
12 |> % + 1 |> % * 2 |> console.log(%);
```

## ê°œìš”

JSì—ëŠ” ë§¤ë…„ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì´ ê¾¸ì¤€íˆ ì¶”ê°€ë˜ê³  ìˆìŠµë‹ˆë‹¤. ECMAScriptì˜ ê¹ƒí—ˆë¸Œì—ì„œ
ì–´ë–¤ ê¸°ëŠ¥ë“¤ì´ ë…¼ì˜ì¤‘ì¸ì§€ êµ¬ê²½í•  ìˆ˜ ìˆëŠ”ë° ëª‡ëª‡ì€ Babel í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ë°ëª¨ê°€
ê°€ëŠ¥í•©ë‹ˆë‹¤.

**Babel**ì€ ì£¼ë¡œ ìµœì‹  ë¬¸ë²•ì˜ ì½”ë“œë¥¼ ë³€í™˜í•´ êµ¬í˜• ë¸Œë¼ìš°ì €ë¥¼ ì§€ì›í•˜ëŠ”ë° ì‚¬ìš©ë˜ì§€ë§Œ
ë¯¸ë˜ì˜ ë¬¸ë²•ì„ ë³€í™˜ì‹œí‚¤ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì–´ë–¤ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë ì§€ í…ìŠ¤íŠ¸ë¡œ ì½ëŠ” ê²ƒë„ ì¢‹ì§€ë§Œ ì§ì ‘ ì‹¤í–‰í•´ë³¼ ìˆ˜ ìˆìœ¼ë©´ ë”
ì¬ë¯¸ìˆê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ Babelì„ ì‚¬ìš©í•´ ë¯¸ë˜ì— ìˆì„ JS ê¸°ëŠ¥ë“¤ì„ ì‹¤í–‰ì‹¤
ìˆ˜ ìˆëŠ” í”Œë ˆì´ê·¸ë¼ìš´ë“œë¥¼ ë¸”ë¡œê·¸ì— êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

ì–¸ì–´ì— ê¸°ëŠ¥ì´ ì¼ë‹¨ ì¶”ê°€ë˜ë©´ ìˆ˜ì •ë˜ê¸°ê°€ **ì•„ì£¼ì•„ì£¼** ì–´ë µê¸° ë•Œë¬¸ì— ì‹ ì¤‘í•˜ê²Œ
ê³ ë¯¼í•´ì•¼í•©ë‹ˆë‹¤. ECMAScript ë©¤ë²„ë“¤ì˜ ì£¼ì¥ì„ ì‚´í´ë³´ê³  ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ë©° ì¸ì‚¬ì´íŠ¸ë¥¼
ì–»ì–´ë³´ì„¸ìš”.

ì¬ë°ŒëŠ” ì˜ˆì œë¥¼ ë§Œë“œì…¨ë‹¤ë©´ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš” ğŸ™Œ

## Stage 3

ê° proposalì€ ì§„í–‰ì‚¬í•­ì— ë”°ë¼ ì—¬ëŸ¬ stageë“¤ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. stage3ì—ëŠ” ëŒ€ë¶€ë¶„ ì™„ì„±ì´
ëœ proposalì´ ì†í•©ë‹ˆë‹¤.

### Explicit Resource Management

https://github.com/tc39/proposal-explicit-resource-management

I/Oë‚˜ ë©”ëª¨ë¦¬ ê°™ì€ ìì›ì„ ì‚¬ìš©í•  ë•Œ acquire í›„ releaseí•˜ëŠ” íŒ¨í„´ì„ ìì£¼
ì‚¬ìš©í•©ë‹ˆë‹¤. Cì˜ `malloc`ê³¼ `free`ë¥¼ ë– ì˜¬ë¦¬ì‹œë©´ ë¼ìš”. ì´ íŒ¨í„´ì„ ê°„ëµí™”ì‹œí‚¤ëŠ”
ë¬¸ë²•ì´ ì œì•ˆë˜ì—ˆìŠµë‹ˆë‹¤.

ìš°ì„  proposalì—ì„œ ë§í•˜ëŠ” í˜„ì¬ ìì› ê´€ë¦¬ ë°©ë²•ì˜ ë¬¸ì œì ë“¤ì„ ì‚´í´ë³¼ê²Œìš”:

- ê°œë°œ ì¤‘ ì‹¤ìˆ˜í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤
  - ```js
    // @noexec noedit
    const reader = stream.getReader();
    ...
    // ìœ„ìª½ ì–´ë”˜ê°€ì—ì„œ ì—ëŸ¬ê°€ ë˜ì ¸ì§€ë©´ ìì›ì´ releaseë˜ì§€ ì•Šì•„ìš”
    reader.releaseLock();
    ```
- ìì›ì„ ìŠ¤ì½”í”„ ë‚´ë¶€ì— í•œì •ì‹œí‚¤ê¸° ì–´ë µìŠµë‹ˆë‹¤:
  - ```js
    // @noexec noedit
    const handle = getResource();
    try {
      ...
    } finally {
      handle.close();
    }
    // handle ë³€ìˆ˜ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ì§€ë§Œ ì‚¬ìš©í•˜ë©´ ì•ˆë©ë‹ˆë‹¤.
    ```
- ë‹¤ìˆ˜ì˜ ìì›ì„ ì‚¬ìš©í•  ë•Œ ì‹¤ìˆ˜í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤:
  - ```js
    // @noexec noedit
    const a = ...;
    const b = ...;
    try {
      ...
    } finally {
      a.close(); // ìì› bê°€ aì— ì˜ì¡´ì ì´ë¼ë©´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      b.close(); // a.close()ê°€ ì—ëŸ¬ë¥¼ ë‚´ë©´ b.close()ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    }
    ```

ë”°ë¼ì„œ í˜„ì¬ì˜ ë¬¸ë²•ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ ì˜¬ë°”ë¥´ê²Œ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œê°€ ê¸¸ì–´ì§‘ë‹ˆë‹¤:

```js
// @noexec noedit
{ // ìŠ¤ì½”í”„ ë°”ê¹¥ìœ¼ë¡œ ìì› ë³€ìˆ˜ê°€ ë‚˜ê°€ëŠ” ê²ƒ ë°©ì§€
  const a = ...;
  try {
    const b = ...;
    try {
      ...
    }
    finally {
      b.close(); // bê°€ a ì´ì „ì— ë‹«í˜
    }
  }
  finally {
    a.close(); // bë¥¼ í• ë‹¹ë°›ì„ ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•´ë„ aê°€ ë‹«íˆëŠ” ê²ƒ ë³´ì¥
  }
}
```

ìƒˆë¡œìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ê°„ëµí™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
// @noexec noedit
using a = ..., b = ...;
```

ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë§Œë“¤ì–´ì§„ í•¨ìˆ˜ë¥¼ ì“°ê² ì§€ë§Œ, usingì— í˜¸í™˜ë˜ëŠ” í•¨ìˆ˜ëŠ” `Symbol.dispose`
í˜¹ì€ `Symbol.asyncDispose`ë¥¼ ì‚¬ìš©í•´ ì•„ë˜ì™€ ê°™ì´ ì •ì˜ë©ë‹ˆë‹¤.

```js
// @babel
// WebKit ì˜ˆì™¸ì²˜ë¦¬
Symbol.dispose ??= Symbol();

let openFile = (name) => {
  // ...
  return {
    [Symbol.dispose]() {
      console.log(`closing file ${name}`);
    },
    // ...
  };
};

let foo = () => {
  using file = openFile('A');
};

let bar = () => {
  using file = openFile('B');
  foo();
};

using file = openFile('C');
bar();
// âœï¸ íŒŒì¼ Dë„ ì—´ì–´ë³´ì„¸ìš”
```

### JSON Modules

https://github.com/tc39/proposal-json-modules/

ëª¨ë“ˆì„ JSONìœ¼ë¡œ ë°”ë¡œ importí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// @babel
import data from 'https://jsonplaceholder.typicode.com/todos/1' with { type: 'json' };

console.log(data);
console.log(typeof data);
console.log(Object.keys(data));
console.log(Object.values(data));
```

### Decorator

https://github.com/tc39/proposal-decorators

ì§€ê¸ˆì˜ JSì—ì„œëŠ” **í•¨ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ** ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜
ìˆìŠµë‹ˆë‹¤:

```js
function logResult(fn) {
  return function (...args) {
    const result = fn.call(this, ...args);
    console.log(result);
    return;
  };
}

const plusOne = logResult((x) => x + 1);
plusOne(1); // 2
```

í•˜ì§€ë§Œ **ê°ì²´ì™€ í´ë˜ìŠ¤**ì— ëŒ€í•´ì„œëŠ” ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜
ì—†ìŠµë‹ˆë‹¤. Decoratorë¥¼ ì–¸ì–´ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ì œê³µí•˜ë©´ í´ë˜ìŠ¤, í´ë˜ìŠ¤ ë©”ì„œë“œ, í•„ë“œ,
ì ‘ê·¼ìë“¤ì— ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
// @babel
function logResult(value, { kind }) {
  if (kind === 'method') {
    return function (...args) {
      const ret = value.call(this, ...args);
      console.log(ret);
      return ret;
    };
  }
}

class C {
  @logResult foo() {
    return 1;
  }
}

new C().foo();
```

## Stage 2

ì—¬ê¸°ì„œë¶€í„°ëŠ” ì•ìœ¼ë¡œ ëª…ì„¸ê°€ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ë†’ê³ , í‘œì¤€ì— í¬í•¨ë˜ê±°ë‚˜ í¬í•¨ë˜ì§€ ì•Šì„
ìˆ˜ ìˆëŠ” ì œì•ˆë“¤ì…ë‹ˆë‹¤.

### throw expressions

https://github.com/tc39/proposal-throw-expressions

`throw`ë¥¼ í‘œí˜„ì‹ ë‹¨ìœ„ë¡œ í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

```js
// @babel
let foo = (param = throw new Error('A')) => {
  console.log(param || throw new Error('B'));
};

// âœï¸ "Hello"ì™€ falseë¥¼ ì¸ìë¡œ ê±´ë„¤ë³´ì„¸ìš”.
foo();
```

### Function Sent

https://github.com/tc39/proposal-function.sent

ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ì²« `next()`ì— ì „ë‹¬ëœ ì¸ìë¥¼ ì•Œì•„ë‚´ëŠ” ë°©ë²•ì€ í˜„ì¬
ì—†ìŠµë‹ˆë‹¤:

```js
function* gen() {
  console.log(yield 'a');
  console.log(yield 'b');
}

let iter = gen();
console.log(iter.next(1)); // 1ì€ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
console.log(iter.next(2));
console.log(iter.next(3));
```

ë”°ë¼ì„œ `function.sent`ë¡œ `next()` ë©”ì„œë“œì— ê°€ì¥ ìµœê·¼ì— ì „ë‹¬ëœ ê°’ì„ ì•Œ ìˆ˜ ìˆë„ë¡
í•©ë‹ˆë‹¤:

```
// @babel
function* gen() {
  console.log(function.sent);
  console.log(yield 'a');
  console.log(yield 'b');
}

let iter = gen();
console.log(iter.next(1));
console.log(iter.next(2));
console.log(iter.next(3));
```

### Record and Tuple

https://github.com/tc39/proposal-record-tuple

ì›ì‹œê°’ë§Œ ë‹´ì„ ìˆ˜ ìˆìœ¼ë©° **deeply immutable**í•œ ì•„ë˜ ë‘ ìë£Œêµ¬ì¡°ë¥¼ ìƒˆë¡œìš´ ì›ì‹œ
íƒ€ì…ìœ¼ë¡œì„œ ë„ì…í•©ë‹ˆë‹¤.

- ê°ì²´ì™€ ìœ ì‚¬í•œ Record `#{ x: 1, y: 2 }`
- ë°°ì—´ê³¼ ìœ ì‚¬í•œ Tuple`#[1, 2, 3, 4]`

```js
// @babel
let record = #{ a: 1, b: '2', c: #{ d: 3, e: 4 } };
console.log(record.a);
console.log(record.c.d);
console.log(Object.keys(record));

let tuple = #[1, 2, 3, #[4, 5]];
console.log(tuple[0], tuple[3][1]);
console.log(tuple.slice(2));

// deeply immutable í•©ë‹ˆë‹¤
// âœï¸ ìˆ˜ì •ì„ ì‹œë„í•´ë³´ì„¸ìš”
// record.c.d = 4;
// tuple[3] = 4;
```

ë‚´ìš©ë¬¼ì´ ê°™ì€ Tuple/RecordëŠ” ê°™ìŠµë‹ˆë‹¤:

```js
// @babel
console.log(#{ a: 1 } === #{ a: 1 });
console.log({ a: 1 } === { a: 1 });

console.log(#[1, 2] === #[1, 2]);
console.log([1, 2] === [1, 2]);

console.log(#[1, 2, #[3, #[4]]] === #[1, 2, #[3, #[4]]]);
```

ìœ„ì™€ ê°™ì€ **ê°’ ê¸°ë°˜ ë™ë“±ì„±**ì´ Tupleê³¼ Recordë¥¼ ìœ ìš©í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

Deeply immutableí•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ê³³ì— ê±´ë„¤ì¤€ ë’¤ì—ë„ ê·¸ ë‚´ìš©ì´ ë°”ë€Œì§€ ì•Šì•˜ìŒì„
í™•ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
// @babel
let func = (obj) => {
  // ...
};

let record = #{ a: #{ b: 1 } };
func(record);
console.log(record.a.b); // record.a.bëŠ” ë°˜ë“œì‹œ 1ì…ë‹ˆë‹¤
```

### Pipeline Operator

https://github.com/tc39/proposal-pipeline-operator

í•¨ìˆ˜ í˜¸ì¶œì™€ ê°™ì€ ì¼ë ¨ì˜ ì‘ì—…ì„ ì–´ë–¤ ê°’ì— ìˆœì°¨ì ìœ¼ë¡œ ì ìš©í•˜ê³  ì‹¶ì„ ë–„ ë‹¤ìŒ ë‘
ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤:

```js
// @noexec
// nesting
three(two(one(value)));

// chaining
value.one().two().three();
```

**Nesting**ì€ í•¨ìˆ˜ ì™¸ì—ë„ ì‚°ìˆ  ì—°ì‚°, `await`, `yield`ì™€ ê°™ì€ ë‹¤ì–‘í•œ ì‘ì—…ì—
ì ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³  ìˆ˜ì •ì´ ì–´ë µë‹¤ëŠ” ë‹¨ì ì´
ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œë¡œ Reactì˜ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ì„¸ìš”:

https://github.com/facebook/react/blob/17.0.2/scripts/jest/jest-cli.js#L295

**Chaining**ì€ ê°€ë…ì„±ì´ ì¢‹ê³  ìˆ˜ì •í•˜ê¸°ë„ ì¢‹ì•„ (**fluent interface**ë¼ëŠ” ì´ë¦„ì´
ë”°ë¡œ ìˆì„ ì •ë„ë¡œ) ìì£¼ ì‚¬ìš©ë˜ì§€ë§Œ ê°’ì— ë©”ì„œë“œê°€ ë¯¸ë¦¬ ì •ì˜ë˜ì–´ìˆì–´ì•¼í•˜ê³  ë©”ì„œë“œê°€
ì•„ë‹Œ JSì˜ ë‹¤ë¥¸ syntaxì— ì ìš©í•˜ê¸° ì–´ë µë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

íŒŒì´í”„ë¼ì¸ ì—°ì‚°ìëŠ” ë‘ ë°©ë²•ì˜ ì¥ì ì„ í•©ì¹©ë‹ˆë‹¤:

```js
// @babel
12 |> % + 1 |> % * 2 |> console.log(%);
```

ë¬¼ë¡  íŒŒì´í”„ë¼ì¸ ì—°ì‚°ìê°€ ì•„ë‹ˆë”ë¼ë„ **ì„ì‹œ ë³€ìˆ˜**ë¥¼ í†µí•´ ê°€ë…ì„±ì„ ê°œì„ í•  ìˆ˜
ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì„ì‹œ ë³€ìˆ˜ì˜ ì´ë¦„ì„ ë§¤ë²ˆ ì§“ëŠ” ê²ƒì€ ì½”ë“œ ì‘ì„±ìì—ê²Œë‚˜ ì½ëŠ”
ì‚¬ëŒì—ê²Œë‚˜ ì§€ê²¹ê³  ì–´ë ¤ìš´ ì¼ì…ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë³€ìˆ˜ëª…ì„ `_`ë¡œ í†µì¼í•˜ë©´ ê´œì°®ì§€ ì•Šì„ê¹Œìš”? ì´ ê²½ìš° mutableí•´ì§€ê¸° ë•Œë¬¸ì—
ì•„ë˜ì™€ ê°™ì€ ë²„ê·¸ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
let one = () => 1;
let double = (a) => a * 2;

let _;
_ = one();
_ = double(_);
_ = Promise.resolve().then(() =>
  // âŒ 2ê°€ ì¶œë ¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  console.log(_),
);

_ = one(_);
```

íŒŒì´í”„ë¼ì¸ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì™€ ê°™ì€ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.

```js
// @babel
let one = () => 1;
let double = (a) => a * 2;

let _;
_ = one() |> double(%) |> Promise.resolve().then(() => console.log(%));
_ = one();
```

ë˜í•œ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ì•¼ë˜ëŠ” ì„ì‹œ ë³€ìˆ˜ ë°©ì‹ê³¼ ë‹¤ë¥´ê²Œ íŒŒì´í”„ë¼ì¸ì€ í‘œí˜„ì‹ì´ê¸°ì—
í¸ë¦¬í•©ë‹ˆë‹¤:

```js
// @noexec noedit
// JSX ì˜ˆì œ
return (
  <ul>
    {values
    |> Object.keys(%)
    |> [...Array.from(new Set(%))]
    |> %.map((envar) => <li onClick={() => doStuff(values)}>{envar}</li>)}
  </ul>
);
```

### Destructuring private

https://github.com/tc39/proposal-destructuring-private

Destructuringì„ í´ë˜ìŠ¤ì˜ private fieldì—ë„ ê°€ëŠ¥í•˜ê²Œí•©ë‹ˆë‹¤.

```js
// @babel
class Foo {
  #x = 1;

  constructor() {
    const { #x: x } = this;
    console.log(x);
  }

  equals({ #x: otherX }) {
    const { #x: currentX } = this;
    return currentX === otherX;
  }
}

let a = new Foo();
let b = new Foo();
console.log(a.equals(b));
```

## Stage 1

### `do` Expressions

https://github.com/tc39/proposal-do-expressions

í‘œí˜„ì‹ì„ ì‘ì„±í•˜ëŠ” ìƒˆë¡œìš´ ë¬¸ë²•ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

```
// @babel
// ì„ì‹œë¡œ ì‚¬ìš©í•  ë³€ìˆ˜ë¥¼ ìŠ¤ì½”í”„ ë‚´ë¶€ì—ë§Œ í•œì •ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
let timeStr = do {
  let date = new Date();
  date.toLocaleTimeString();
};
console.log(timeStr);

// ë¶„ê¸° ì²˜ë¦¬ê°€ ì—¬ëŸ¿ í•„ìš”í•  ë•Œ ì¸ë¼ì¸ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
let foo = () => 0.5 < Math.random();
console.log(do {
  if (foo()) '1/2';
  else if (foo()) '1/4';
  else if (foo()) '1/8';
  else '1/8';
});
```

JSXë¥¼ ì“¸ ë•Œ ì¢€ ë” ììœ ë¡œì›Œì§ˆ ê²ƒ ê°™ì•„ìš”:

```js
// @noexec
return (
  <nav>
    <Home />
    {do {
      if (loggedIn) {
        <LogoutButton />;
      } else {
        <LoginButton />;
      }
    }}
  </nav>
);
```

### `async do` Expressions

https://github.com/tc39/proposal-async-do-expressions

ìœ„ ì œì•ˆì˜ ë¹„ë™ê¸° ë²„ì „ì…ë‹ˆë‹¤. ê¸°ì¡´ì— `(async () => {...})()`ë¡œ ì¼ë˜ê±¸
`async do {}`ë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// @babel
Promise.all([
  async do {
    const result = await fetch('https://jsonplaceholder.typicode.com/todos/1');
    await result.json();
  },
  async do {
    const result = await fetch('https://jsonplaceholder.typicode.com/todos/2');
    await result.json();
  },
]).then(([a, b]) => {
  console.log(a);
  console.log(b);
});
```

### Optional chaining assign

https://github.com/tc39/proposal-optional-chaining-assignment

Optional chaining í‘œí˜„ì‹ì„ í• ë‹¹ ì—°ì‚°ìì˜ ì¢Œì¸¡ì— ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// @babel
let obj = {};
obj?.a = 10;
console.log(obj);
```

ì›ë˜ëŠ” ì•ˆëì–´ìš”:

```js
let obj = {};
obj?.a = 10;
console.log(obj);
```

### Partial Application

https://github.com/tc39/proposal-partial-application

í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì¼ë¶€ ì¸ìì—ë§Œ ê°’ì„ ì œê³µí•˜ëŠ” ë¬¸ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

ê¸°ì¡´ì—ë„ `Function.prototype.bind`ë‚˜ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìœ ì‚¬í•œ ì‘ì—…ì„ í•  ìˆ˜
ìˆìŠµë‹ˆë‹¤:

```js
function add(x, y) {
  return x + y;
}

// Function.prototype.bind
const addOne = add.bind(null, 1);
console.log(addOne(2));

// arrow functions
const addTen = (x) => add(x, 10);
console.log(addTen(2));
```

í•˜ì§€ë§Œ bind í•¨ìˆ˜ëŠ” ì•ìª½ì— ìˆëŠ” ì¸ì ìˆœìœ¼ë¡œë§Œ ê°’ì„ ì œê³µí•  ìˆ˜ ìˆê³  í™”ì‚´í‘œ í•¨ìˆ˜ëŠ”
lazyí•˜ê²Œ ë³¸ë¬¸ì´ ì‹¤í–‰ë˜ê¸°ì— ì˜ë„ì¹˜ ì•Šì€ side-effectê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì— `?`ë¥¼ placeholderë¡œ ì‚¬ìš©í•´ í•¨ìˆ˜ ì¸ìë¥¼ ì¼ë¶€ë§Œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì œì•ˆí•©ë‹ˆë‹¤:

```
// @babel
let add = (x, y) => x + y;

const addOne = add(1, ?); // apply from the left
console.log(addOne(2)); // 3

const addTen = add(?, 10); // apply from the right
console.log(addTen(2)); // 12
```

## Stage 0

### Function Bind

https://github.com/tc39/proposal-bind-operator

í™”ì‚´í‘œ í•¨ìˆ˜ê°€ ë„ì…ë˜ì–´ `this`ë¥¼ bindí•  ì¼ì€ ì¤„ì—ˆì§€ë§Œ ì—¬ì „íˆ use caseê°€ ìˆìŠµë‹ˆë‹¤:

```js
// íŠ¹ì • this ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸°
let hasOwnProp = Object.prototype.hasOwnProperty;
let obj = { x: 100 };
hasOwnProp.call(obj, 'x');

// ê°ì²´ì—ì„œ ë©”ì„œë“œ ë–¼ë‚´ê¸°
Promise.resolve(123).then(console.log.bind(console));
```

ì´ëŸ¬í•œ ê²½ìš°ì— ëŒ€í•œ syntatic sugarë¡œ `::` ì—°ì‚°ìë¥¼ ì œì•ˆí•©ë‹ˆë‹¤:

```js
// @babel
const box = {
  weight: 2,
  getWeight() {
    return this.weight;
  },
};

// getWeightì— bigBoxë¥¼ bindí•©ë‹ˆë‹¤.
const { getWeight } = box;
const bigBox = { weight: 10 };
console.log(bigBox::getWeight());

// chainingë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
function add(val) {
  return this + val;
}
console.log(bigBox::getWeight()::add(5));

// :: ì „ì— ì•„ë¬´ê²ƒë„ ì—†ìœ¼ë©´ ê°ì²´ ìì‹ ì„ bindí•©ë‹ˆë‹¤.
let getWeightBound = ::box.getWeight;
console.log(getWeightBound());
```

## ë” ì½ì–´ë³¼ë§Œí•œ ê²ƒë“¤

í˜„ì¬ ë…¼ì˜ì¤‘ì¸ proposalë“¤:

https://github.com/tc39/proposals

Proposal stageë³„ ì°¨ì´ê°€ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´:

https://tc39.es/process-document/

Proposalëœ ê¸°ëŠ¥ ì¤‘ Babelì´ ì§€ì›í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ ëª©ë¡:

https://babeljs.io/docs/babel-plugin-proposal-decorators

Proposalì´ í‘œì¤€ì— ë°˜ì˜ë˜ê¸°ê¹Œì§€ì˜ ê³¼ì •:

https://ahnheejong.name/articles/ecmascript-tc39/

Proposal ë³´ë‹¤ë³´ë‹ˆ ê³µê°ë˜ëŠ” ë¬¸ì œ ìƒí™©ì´ë¼ì„œ(...):

https://github.com/tc39/proposal-string-dedent?tab=readme-ov-file

```

```
